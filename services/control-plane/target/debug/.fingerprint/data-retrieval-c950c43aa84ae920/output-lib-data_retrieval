{"$message_type":"diagnostic","message":"unknown start of token: \\","code":null,"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/pyth.rs","byte_start":5183,"byte_end":5184,"line_start":156,"line_end":156,"column_start":20,"column_end":21,"is_primary":true,"text":[{"text":"        symbols: &[\\u0026str],","highlight_start":20,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: unknown start of token: \\\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/pyth.rs:156:20\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m156\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         symbols: &[\\u0026str],\n    \u001b[1m\u001b[94m|\u001b[0m                    \u001b[1m\u001b[91m^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"expected one of `,` or `>`, found `str`","code":null,"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/pyth.rs","byte_start":433,"byte_end":436,"line_start":14,"line_end":14,"column_start":44,"column_end":47,"is_primary":true,"text":[{"text":"pub static PYTH_FEED_IDS: phf::Map<'static str, &'static str> = phf::phf_map! {","highlight_start":44,"highlight_end":47}],"label":"expected one of `,` or `>`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"you might have meant to end the type parameters here","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/pyth.rs","byte_start":432,"byte_end":432,"line_start":14,"line_end":14,"column_start":43,"column_end":43,"is_primary":true,"text":[{"text":"pub static PYTH_FEED_IDS: phf::Map<'static str, &'static str> = phf::phf_map! {","highlight_start":43,"highlight_end":43}],"label":null,"suggested_replacement":">","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: expected one of `,` or `>`, found `str`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/pyth.rs:14:44\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m14\u001b[0m \u001b[1m\u001b[94m|\u001b[0m pub static PYTH_FEED_IDS: phf::Map<'static str, &'static str> = phf::phf_map! {\n   \u001b[1m\u001b[94m|\u001b[0m                                            \u001b[1m\u001b[91m^^^\u001b[0m \u001b[1m\u001b[91mexpected one of `,` or `>`\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: you might have meant to end the type parameters here\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m14\u001b[0m \u001b[1m\u001b[94m| \u001b[0mpub static PYTH_FEED_IDS: phf::Map<'static\u001b[92m>\u001b[0m str, &'static str> = phf::phf_map! {\n   \u001b[1m\u001b[94m|\u001b[0m                                           \u001b[92m+\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused import: `DateTime`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":34,"byte_end":42,"line_start":2,"line_end":2,"column_start":14,"column_end":22,"is_primary":true,"text":[{"text":"use chrono::{DateTime, TimeZone, Utc};","highlight_start":14,"highlight_end":22}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"remove the unused import","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":34,"byte_end":44,"line_start":2,"line_end":2,"column_start":14,"column_end":24,"is_primary":true,"text":[{"text":"use chrono::{DateTime, TimeZone, Utc};","highlight_start":14,"highlight_end":24}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unused import: `DateTime`\u001b[0m\n \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs:2:14\n  \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2\u001b[0m \u001b[1m\u001b[94m|\u001b[0m use chrono::{DateTime, TimeZone, Utc};\n  \u001b[1m\u001b[94m|\u001b[0m              \u001b[1m\u001b[33m^^^^^^^^\u001b[0m\n  \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default\n\n"}
{"$message_type":"diagnostic","message":"unused imports: `debug`, `error`, `info`, and `warn`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":189,"byte_end":194,"line_start":7,"line_end":7,"column_start":15,"column_end":20,"is_primary":true,"text":[{"text":"use tracing::{debug, error, info, warn};","highlight_start":15,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":196,"byte_end":201,"line_start":7,"line_end":7,"column_start":22,"column_end":27,"is_primary":true,"text":[{"text":"use tracing::{debug, error, info, warn};","highlight_start":22,"highlight_end":27}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":203,"byte_end":207,"line_start":7,"line_end":7,"column_start":29,"column_end":33,"is_primary":true,"text":[{"text":"use tracing::{debug, error, info, warn};","highlight_start":29,"highlight_end":33}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":209,"byte_end":213,"line_start":7,"line_end":7,"column_start":35,"column_end":39,"is_primary":true,"text":[{"text":"use tracing::{debug, error, info, warn};","highlight_start":35,"highlight_end":39}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the whole `use` item","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":175,"byte_end":216,"line_start":7,"line_end":8,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"use tracing::{debug, error, info, warn};","highlight_start":1,"highlight_end":41},{"text":"","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unused imports: `debug`, `error`, `info`, and `warn`\u001b[0m\n \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs:7:15\n  \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m7\u001b[0m \u001b[1m\u001b[94m|\u001b[0m use tracing::{debug, error, info, warn};\n  \u001b[1m\u001b[94m|\u001b[0m               \u001b[1m\u001b[33m^^^^^\u001b[0m  \u001b[1m\u001b[33m^^^^^\u001b[0m  \u001b[1m\u001b[33m^^^^\u001b[0m  \u001b[1m\u001b[33m^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused import: `info`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":399,"byte_end":403,"line_start":19,"line_end":19,"column_start":15,"column_end":19,"is_primary":true,"text":[{"text":"use tracing::{info, warn};","highlight_start":15,"highlight_end":19}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the unused import","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":399,"byte_end":405,"line_start":19,"line_end":19,"column_start":15,"column_end":21,"is_primary":true,"text":[{"text":"use tracing::{info, warn};","highlight_start":15,"highlight_end":21}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":398,"byte_end":399,"line_start":19,"line_end":19,"column_start":14,"column_end":15,"is_primary":true,"text":[{"text":"use tracing::{info, warn};","highlight_start":14,"highlight_end":15}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":409,"byte_end":410,"line_start":19,"line_end":19,"column_start":25,"column_end":26,"is_primary":true,"text":[{"text":"use tracing::{info, warn};","highlight_start":25,"highlight_end":26}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unused import: `info`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:19:15\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m19\u001b[0m \u001b[1m\u001b[94m|\u001b[0m use tracing::{info, warn};\n   \u001b[1m\u001b[94m|\u001b[0m               \u001b[1m\u001b[33m^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"conflicting implementations of trait `types::PriceDataSource` for type `CoinGeckoClient`","code":{"code":"E0119","explanation":"There are conflicting trait implementations for the same type.\n\nErroneous code example:\n\n```compile_fail,E0119\ntrait MyTrait {\n    fn get(&self) -> usize;\n}\n\nimpl<T> MyTrait for T {\n    fn get(&self) -> usize { 0 }\n}\n\nstruct Foo {\n    value: usize\n}\n\nimpl MyTrait for Foo { // error: conflicting implementations of trait\n                       //        `MyTrait` for type `Foo`\n    fn get(&self) -> usize { self.value }\n}\n```\n\nWhen looking for the implementation for the trait, the compiler finds\nboth the `impl<T> MyTrait for T` where T is all types and the `impl\nMyTrait for Foo`. Since a trait cannot be implemented multiple times,\nthis is an error. So, when you write:\n\n```\ntrait MyTrait {\n    fn get(&self) -> usize;\n}\n\nimpl<T> MyTrait for T {\n    fn get(&self) -> usize { 0 }\n}\n```\n\nThis makes the trait implemented on all types in the scope. So if you\ntry to implement it on another one after that, the implementations will\nconflict. Example:\n\n```\ntrait MyTrait {\n    fn get(&self) -> usize;\n}\n\nimpl<T> MyTrait for T {\n    fn get(&self) -> usize { 0 }\n}\n\nstruct Foo;\n\nfn main() {\n    let f = Foo;\n\n    f.get(); // the trait is implemented so we can use it\n}\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":4539,"byte_end":4579,"line_start":138,"line_end":138,"column_start":1,"column_end":41,"is_primary":false,"text":[{"text":"impl PriceDataSource for CoinGeckoClient {","highlight_start":1,"highlight_end":41}],"label":"first implementation here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":11399,"byte_end":11439,"line_start":353,"line_end":353,"column_start":1,"column_end":41,"is_primary":true,"text":[{"text":"impl PriceDataSource for CoinGeckoClient {","highlight_start":1,"highlight_end":41}],"label":"conflicting implementation for `CoinGeckoClient`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[1m\u001b[91merror[E0119]\u001b[0m\u001b[1m: conflicting implementations of trait `types::PriceDataSource` for type `CoinGeckoClient`\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:353:1\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m353\u001b[0m \u001b[1m\u001b[94m|\u001b[0m impl PriceDataSource for CoinGeckoClient {\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[91mconflicting implementation for `CoinGeckoClient`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m::: \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs:138:1\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m138\u001b[0m \u001b[1m\u001b[94m|\u001b[0m impl PriceDataSource for CoinGeckoClient {\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[94m----------------------------------------\u001b[0m \u001b[1m\u001b[94mfirst implementation here\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"no method named `timestamp_millis_opt` found for struct `Utc` in the current scope","code":{"code":"E0599","explanation":"This error occurs when a method is used on a type which doesn't implement it:\n\nErroneous code example:\n\n```compile_fail,E0599\nstruct Mouth;\n\nlet x = Mouth;\nx.chocolate(); // error: no method named `chocolate` found for type `Mouth`\n               //        in the current scope\n```\n\nIn this case, you need to implement the `chocolate` method to fix the error:\n\n```\nstruct Mouth;\n\nimpl Mouth {\n    fn chocolate(&self) { // We implement the `chocolate` method here.\n        println!(\"Hmmm! I love chocolate!\");\n    }\n}\n\nlet x = Mouth;\nx.chocolate(); // ok!\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/chrono-0.4.43/src/offset/mod.rs","byte_start":20155,"byte_end":20175,"line_start":500,"line_end":500,"column_start":8,"column_end":28,"is_primary":false,"text":[{"text":"    fn timestamp_millis_opt(&self, millis: i64) -> MappedLocalTime<DateTime<Self>> {","highlight_start":8,"highlight_end":28}],"label":"the method is available for `Utc` here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/binance_ws.rs","byte_start":8585,"byte_end":8605,"line_start":263,"line_end":263,"column_start":36,"column_end":56,"is_primary":true,"text":[{"text":"            timestamp: chrono::Utc.timestamp_millis_opt(timestamp_ms).single()","highlight_start":36,"highlight_end":56}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"items from traits can only be used if the trait is in scope","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"trait `TimeZone` which provides `timestamp_millis_opt` is implemented but not in scope; perhaps you want to import it","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/binance_ws.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"use crate::types::*;","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"use chrono::TimeZone;\n","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"there is a method `timestamp_millis` with a similar name","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/binance_ws.rs","byte_start":8585,"byte_end":8605,"line_start":263,"line_end":263,"column_start":36,"column_end":56,"is_primary":true,"text":[{"text":"            timestamp: chrono::Utc.timestamp_millis_opt(timestamp_ms).single()","highlight_start":36,"highlight_end":56}],"label":null,"suggested_replacement":"timestamp_millis","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0599]\u001b[0m\u001b[1m: no method named `timestamp_millis_opt` found for struct `Utc` in the current scope\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/binance_ws.rs:263:36\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m263\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             timestamp: chrono::Utc.timestamp_millis_opt(timestamp_ms).single()\n    \u001b[1m\u001b[94m|\u001b[0m                                    \u001b[1m\u001b[91m^^^^^^^^^^^^^^^^^^^^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m::: \u001b[0m/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/chrono-0.4.43/src/offset/mod.rs:500:8\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m500\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     fn timestamp_millis_opt(&self, millis: i64) -> MappedLocalTime<DateTime<Self>> {\n    \u001b[1m\u001b[94m|\u001b[0m        \u001b[1m\u001b[94m--------------------\u001b[0m \u001b[1m\u001b[94mthe method is available for `Utc` here\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: items from traits can only be used if the trait is in scope\n\u001b[1m\u001b[96mhelp\u001b[0m: trait `TimeZone` which provides `timestamp_millis_opt` is implemented but not in scope; perhaps you want to import it\n    \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m1\u001b[0m \u001b[92m+ use chrono::TimeZone;\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: there is a method `timestamp_millis` with a similar name\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m263\u001b[0m \u001b[91m- \u001b[0m            timestamp: chrono::Utc.\u001b[91mtimestamp_millis_opt\u001b[0m(timestamp_ms).single()\n\u001b[1m\u001b[94m263\u001b[0m \u001b[92m+ \u001b[0m            timestamp: chrono::Utc.\u001b[92mtimestamp_millis\u001b[0m(timestamp_ms).single()\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this function depends on never type fallback being `()`","code":{"code":"dependency_on_unit_never_type_fallback","explanation":null},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1011,"byte_end":1152,"line_start":37,"line_end":42,"column_start":5,"column_end":28,"is_primary":true,"text":[{"text":"    pub async fn set_price(","highlight_start":5,"highlight_end":28},{"text":"        &self,","highlight_start":1,"highlight_end":15},{"text":"        asset: &str,","highlight_start":1,"highlight_end":21},{"text":"        quote: &str,","highlight_start":1,"highlight_end":21},{"text":"        price: &AggregatedPrice,","highlight_start":1,"highlight_end":33},{"text":"    ) -> anyhow::Result<()> {","highlight_start":1,"highlight_end":28}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!","code":null,"level":"warning","spans":[],"children":[],"rendered":null},{"message":"for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"specify the types explicitly","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"in edition 2024, the requirement `!: FromRedisValue` will fail","code":null,"level":"note","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1373,"byte_end":1379,"line_start":48,"line_end":48,"column_start":14,"column_end":20,"is_primary":true,"text":[{"text":"            .set_ex(key, json, 60)","highlight_start":14,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"`#[deny(dependency_on_unit_never_type_fallback)]` (part of `#[deny(rust_2024_compatibility)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"use `()` annotations to avoid fallback changes","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1379,"byte_end":1379,"line_start":48,"line_end":48,"column_start":20,"column_end":20,"is_primary":true,"text":[{"text":"            .set_ex(key, json, 60)","highlight_start":20,"highlight_end":20}],"label":null,"suggested_replacement":"::<_, _, ()>","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: this function depends on never type fallback being `()`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs:37:5\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m37\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m/\u001b[0m     pub async fn set_price(\n\u001b[1m\u001b[94m38\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         &self,\n\u001b[1m\u001b[94m39\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         asset: &str,\n\u001b[1m\u001b[94m40\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         quote: &str,\n\u001b[1m\u001b[94m41\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         price: &AggregatedPrice,\n\u001b[1m\u001b[94m42\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m     ) -> anyhow::Result<()> {\n   \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|___________________________^\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mwarning\u001b[0m: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: specify the types explicitly\n\u001b[1m\u001b[92mnote\u001b[0m: in edition 2024, the requirement `!: FromRedisValue` will fail\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs:48:14\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m48\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             .set_ex(key, json, 60)\n   \u001b[1m\u001b[94m|\u001b[0m              \u001b[1m\u001b[92m^^^^^^\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[deny(dependency_on_unit_never_type_fallback)]` (part of `#[deny(rust_2024_compatibility)]`) on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: use `()` annotations to avoid fallback changes\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m48\u001b[0m \u001b[1m\u001b[94m| \u001b[0m            .set_ex\u001b[92m::<_, _, ()>\u001b[0m(key, json, 60)\n   \u001b[1m\u001b[94m|\u001b[0m                    \u001b[92m++++++++++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this function depends on never type fallback being `()`","code":{"code":"dependency_on_unit_never_type_fallback","explanation":null},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1487,"byte_end":1602,"line_start":55,"line_end":59,"column_start":5,"column_end":28,"is_primary":true,"text":[{"text":"    pub async fn invalidate_price(","highlight_start":5,"highlight_end":35},{"text":"        &self,","highlight_start":1,"highlight_end":15},{"text":"        asset: &str,","highlight_start":1,"highlight_end":21},{"text":"        quote: &str,","highlight_start":1,"highlight_end":21},{"text":"    ) -> anyhow::Result<()> {","highlight_start":1,"highlight_end":28}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!","code":null,"level":"warning","spans":[],"children":[],"rendered":null},{"message":"for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"specify the types explicitly","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"in edition 2024, the requirement `!: FromRedisValue` will fail","code":null,"level":"note","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1719,"byte_end":1722,"line_start":61,"line_end":61,"column_start":29,"column_end":32,"is_primary":true,"text":[{"text":"        self.client.clone().del(key).await?;","highlight_start":29,"highlight_end":32}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"use `()` annotations to avoid fallback changes","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1722,"byte_end":1722,"line_start":61,"line_end":61,"column_start":32,"column_end":32,"is_primary":true,"text":[{"text":"        self.client.clone().del(key).await?;","highlight_start":32,"highlight_end":32}],"label":null,"suggested_replacement":"::<_, ()>","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: this function depends on never type fallback being `()`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs:55:5\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m55\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m/\u001b[0m     pub async fn invalidate_price(\n\u001b[1m\u001b[94m56\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         &self,\n\u001b[1m\u001b[94m57\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         asset: &str,\n\u001b[1m\u001b[94m58\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         quote: &str,\n\u001b[1m\u001b[94m59\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m     ) -> anyhow::Result<()> {\n   \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|___________________________^\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mwarning\u001b[0m: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: specify the types explicitly\n\u001b[1m\u001b[92mnote\u001b[0m: in edition 2024, the requirement `!: FromRedisValue` will fail\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs:61:29\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m61\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         self.client.clone().del(key).await?;\n   \u001b[1m\u001b[94m|\u001b[0m                             \u001b[1m\u001b[92m^^^\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: use `()` annotations to avoid fallback changes\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m61\u001b[0m \u001b[1m\u001b[94m| \u001b[0m        self.client.clone().del\u001b[92m::<_, ()>\u001b[0m(key).await?;\n   \u001b[1m\u001b[94m|\u001b[0m                                \u001b[92m+++++++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"attempted to take value of method `asset` on type `types::PricePoint`","code":{"code":"E0615","explanation":"Attempted to access a method like a field.\n\nErroneous code example:\n\n```compile_fail,E0615\nstruct Foo {\n    x: u32,\n}\n\nimpl Foo {\n    fn method(&self) {}\n}\n\nlet f = Foo { x: 0 };\nf.method; // error: attempted to take value of method `method` on type `Foo`\n```\n\nIf you want to use a method, add `()` after it:\n\n```\n# struct Foo { x: u32 }\n# impl Foo { fn method(&self) {} }\n# let f = Foo { x: 0 };\nf.method();\n```\n\nHowever, if you wanted to access a field of a struct check that the field name\nis spelled correctly. Example:\n\n```\n# struct Foo { x: u32 }\n# impl Foo { fn method(&self) {} }\n# let f = Foo { x: 0 };\nprintln!(\"{}\", f.x);\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":3470,"byte_end":3475,"line_start":118,"line_end":118,"column_start":58,"column_end":63,"is_primary":true,"text":[{"text":"                        let key = format!(\"{}:{}\", price.asset, price.quote);","highlight_start":58,"highlight_end":63}],"label":"method, not a field","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"use parentheses to call the method","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":3475,"byte_end":3475,"line_start":118,"line_end":118,"column_start":63,"column_end":63,"is_primary":true,"text":[{"text":"                        let key = format!(\"{}:{}\", price.asset, price.quote);","highlight_start":63,"highlight_end":63}],"label":null,"suggested_replacement":"()","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0615]\u001b[0m\u001b[1m: attempted to take value of method `asset` on type `types::PricePoint`\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:118:58\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m118\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                         let key = format!(\"{}:{}\", price.asset, price.quote);\n    \u001b[1m\u001b[94m|\u001b[0m                                                          \u001b[1m\u001b[91m^^^^^\u001b[0m \u001b[1m\u001b[91mmethod, not a field\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: use parentheses to call the method\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m118\u001b[0m \u001b[1m\u001b[94m| \u001b[0m                        let key = format!(\"{}:{}\", price.asset\u001b[92m()\u001b[0m, price.quote);\n    \u001b[1m\u001b[94m|\u001b[0m                                                               \u001b[92m++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"attempted to take value of method `quote` on type `types::PricePoint`","code":{"code":"E0615","explanation":"Attempted to access a method like a field.\n\nErroneous code example:\n\n```compile_fail,E0615\nstruct Foo {\n    x: u32,\n}\n\nimpl Foo {\n    fn method(&self) {}\n}\n\nlet f = Foo { x: 0 };\nf.method; // error: attempted to take value of method `method` on type `Foo`\n```\n\nIf you want to use a method, add `()` after it:\n\n```\n# struct Foo { x: u32 }\n# impl Foo { fn method(&self) {} }\n# let f = Foo { x: 0 };\nf.method();\n```\n\nHowever, if you wanted to access a field of a struct check that the field name\nis spelled correctly. Example:\n\n```\n# struct Foo { x: u32 }\n# impl Foo { fn method(&self) {} }\n# let f = Foo { x: 0 };\nprintln!(\"{}\", f.x);\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":3483,"byte_end":3488,"line_start":118,"line_end":118,"column_start":71,"column_end":76,"is_primary":true,"text":[{"text":"                        let key = format!(\"{}:{}\", price.asset, price.quote);","highlight_start":71,"highlight_end":76}],"label":"method, not a field","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"use parentheses to call the method","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":3488,"byte_end":3488,"line_start":118,"line_end":118,"column_start":76,"column_end":76,"is_primary":true,"text":[{"text":"                        let key = format!(\"{}:{}\", price.asset, price.quote);","highlight_start":76,"highlight_end":76}],"label":null,"suggested_replacement":"()","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0615]\u001b[0m\u001b[1m: attempted to take value of method `quote` on type `types::PricePoint`\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:118:71\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m118\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                         let key = format!(\"{}:{}\", price.asset, price.quote);\n    \u001b[1m\u001b[94m|\u001b[0m                                                                       \u001b[1m\u001b[91m^^^^^\u001b[0m \u001b[1m\u001b[91mmethod, not a field\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: use parentheses to call the method\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m118\u001b[0m \u001b[1m\u001b[94m| \u001b[0m                        let key = format!(\"{}:{}\", price.asset, price.quote\u001b[92m()\u001b[0m);\n    \u001b[1m\u001b[94m|\u001b[0m                                                                            \u001b[92m++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"no function or associated item named `from_f64` found for struct `rust_decimal::Decimal` in the current scope","code":{"code":"E0599","explanation":"This error occurs when a method is used on a type which doesn't implement it:\n\nErroneous code example:\n\n```compile_fail,E0599\nstruct Mouth;\n\nlet x = Mouth;\nx.chocolate(); // error: no method named `chocolate` found for type `Mouth`\n               //        in the current scope\n```\n\nIn this case, you need to implement the `chocolate` method to fix the error:\n\n```\nstruct Mouth;\n\nimpl Mouth {\n    fn chocolate(&self) { // We implement the `chocolate` method here.\n        println!(\"Hmmm! I love chocolate!\");\n    }\n}\n\nlet x = Mouth;\nx.chocolate(); // ok!\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":7346,"byte_end":7354,"line_start":225,"line_end":225,"column_start":50,"column_end":58,"is_primary":true,"text":[{"text":"                p.price * rust_decimal::Decimal::from_f64(weight).unwrap_or_default()","highlight_start":50,"highlight_end":58}],"label":"function or associated item not found in `rust_decimal::Decimal`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"if you're trying to build a new `rust_decimal::Decimal` consider using one of the following associated functions:\nrust_decimal::Decimal::new\nrust_decimal::Decimal::try_new\nrust_decimal::Decimal::from_i128_with_scale\nrust_decimal::Decimal::try_from_i128_with_scale\nand 10 others","code":null,"level":"note","spans":[{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs","byte_start":12230,"byte_end":12273,"line_start":408,"line_end":408,"column_start":5,"column_end":48,"is_primary":true,"text":[{"text":"    pub fn new(num: i64, scale: u32) -> Decimal {","highlight_start":5,"highlight_end":48}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs","byte_start":12695,"byte_end":12763,"line_start":425,"line_end":425,"column_start":5,"column_end":73,"is_primary":true,"text":[{"text":"    pub const fn try_new(num: i64, scale: u32) -> crate::Result<Decimal> {","highlight_start":5,"highlight_end":73}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs","byte_start":14099,"byte_end":14160,"line_start":468,"line_end":468,"column_start":5,"column_end":66,"is_primary":true,"text":[{"text":"    pub fn from_i128_with_scale(num: i128, scale: u32) -> Decimal {","highlight_start":5,"highlight_end":66}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs","byte_start":14640,"byte_end":14726,"line_start":486,"line_end":486,"column_start":5,"column_end":91,"is_primary":true,"text":[{"text":"    pub const fn try_from_i128_with_scale(num: i128, scale: u32) -> crate::Result<Decimal> {","highlight_start":5,"highlight_end":91}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"items from traits can only be used if the trait is in scope","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"trait `FromPrimitive` which provides `from_f64` is implemented but not in scope; perhaps you want to import it","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1,"is_primary":true,"text":[],"label":null,"suggested_replacement":"use rust_decimal::prelude::FromPrimitive;\n","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"there is an associated function `from_i64` with a similar name","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":7346,"byte_end":7354,"line_start":225,"line_end":225,"column_start":50,"column_end":58,"is_primary":true,"text":[{"text":"                p.price * rust_decimal::Decimal::from_f64(weight).unwrap_or_default()","highlight_start":50,"highlight_end":58}],"label":null,"suggested_replacement":"from_i64","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0599]\u001b[0m\u001b[1m: no function or associated item named `from_f64` found for struct `rust_decimal::Decimal` in the current scope\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:225:50\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m225\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                 p.price * rust_decimal::Decimal::from_f64(weight).unwrap_or_default()\n    \u001b[1m\u001b[94m|\u001b[0m                                                  \u001b[1m\u001b[91m^^^^^^^^\u001b[0m \u001b[1m\u001b[91mfunction or associated item not found in `rust_decimal::Decimal`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[92mnote\u001b[0m: if you're trying to build a new `rust_decimal::Decimal` consider using one of the following associated functions:\n      rust_decimal::Decimal::new\n      rust_decimal::Decimal::try_new\n      rust_decimal::Decimal::from_i128_with_scale\n      rust_decimal::Decimal::try_from_i128_with_scale\n      and 10 others\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs:408:5\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m408\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub fn new(num: i64, scale: u32) -> Decimal {\n    \u001b[1m\u001b[94m|\u001b[0m     \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m425\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub const fn try_new(num: i64, scale: u32) -> crate::Result<Decimal> {\n    \u001b[1m\u001b[94m|\u001b[0m     \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m468\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub fn from_i128_with_scale(num: i128, scale: u32) -> Decimal {\n    \u001b[1m\u001b[94m|\u001b[0m     \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m486\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub const fn try_from_i128_with_scale(num: i128, scale: u32) -> crate::Result<Decimal> {\n    \u001b[1m\u001b[94m|\u001b[0m     \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: items from traits can only be used if the trait is in scope\n\u001b[1m\u001b[96mhelp\u001b[0m: trait `FromPrimitive` which provides `from_f64` is implemented but not in scope; perhaps you want to import it\n    \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m1\u001b[0m \u001b[92m+ use rust_decimal::prelude::FromPrimitive;\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: there is an associated function `from_i64` with a similar name\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m225\u001b[0m \u001b[91m- \u001b[0m                p.price * rust_decimal::Decimal::\u001b[91mfrom_f64\u001b[0m(weight).unwrap_or_default()\n\u001b[1m\u001b[94m225\u001b[0m \u001b[92m+ \u001b[0m                p.price * rust_decimal::Decimal::\u001b[92mfrom_i64\u001b[0m(weight).unwrap_or_default()\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"no function or associated item named `from_f64` found for struct `rust_decimal::Decimal` in the current scope","code":{"code":"E0599","explanation":"This error occurs when a method is used on a type which doesn't implement it:\n\nErroneous code example:\n\n```compile_fail,E0599\nstruct Mouth;\n\nlet x = Mouth;\nx.chocolate(); // error: no method named `chocolate` found for type `Mouth`\n               //        in the current scope\n```\n\nIn this case, you need to implement the `chocolate` method to fix the error:\n\n```\nstruct Mouth;\n\nimpl Mouth {\n    fn chocolate(&self) { // We implement the `chocolate` method here.\n        println!(\"Hmmm! I love chocolate!\");\n    }\n}\n\nlet x = Mouth;\nx.chocolate(); // ok!\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":7496,"byte_end":7504,"line_start":229,"line_end":229,"column_start":70,"column_end":78,"is_primary":true,"text":[{"text":"        let aggregated_price = weighted_sum / rust_decimal::Decimal::from_f64(total_weight).unwrap_or_default();","highlight_start":70,"highlight_end":78}],"label":"function or associated item not found in `rust_decimal::Decimal`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"if you're trying to build a new `rust_decimal::Decimal` consider using one of the following associated functions:\nrust_decimal::Decimal::new\nrust_decimal::Decimal::try_new\nrust_decimal::Decimal::from_i128_with_scale\nrust_decimal::Decimal::try_from_i128_with_scale\nand 10 others","code":null,"level":"note","spans":[{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs","byte_start":12230,"byte_end":12273,"line_start":408,"line_end":408,"column_start":5,"column_end":48,"is_primary":true,"text":[{"text":"    pub fn new(num: i64, scale: u32) -> Decimal {","highlight_start":5,"highlight_end":48}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs","byte_start":12695,"byte_end":12763,"line_start":425,"line_end":425,"column_start":5,"column_end":73,"is_primary":true,"text":[{"text":"    pub const fn try_new(num: i64, scale: u32) -> crate::Result<Decimal> {","highlight_start":5,"highlight_end":73}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs","byte_start":14099,"byte_end":14160,"line_start":468,"line_end":468,"column_start":5,"column_end":66,"is_primary":true,"text":[{"text":"    pub fn from_i128_with_scale(num: i128, scale: u32) -> Decimal {","highlight_start":5,"highlight_end":66}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs","byte_start":14640,"byte_end":14726,"line_start":486,"line_end":486,"column_start":5,"column_end":91,"is_primary":true,"text":[{"text":"    pub const fn try_from_i128_with_scale(num: i128, scale: u32) -> crate::Result<Decimal> {","highlight_start":5,"highlight_end":91}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"items from traits can only be used if the trait is in scope","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"trait `FromPrimitive` which provides `from_f64` is implemented but not in scope; perhaps you want to import it","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1,"is_primary":true,"text":[],"label":null,"suggested_replacement":"use rust_decimal::prelude::FromPrimitive;\n","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"there is an associated function `from_i64` with a similar name","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":7496,"byte_end":7504,"line_start":229,"line_end":229,"column_start":70,"column_end":78,"is_primary":true,"text":[{"text":"        let aggregated_price = weighted_sum / rust_decimal::Decimal::from_f64(total_weight).unwrap_or_default();","highlight_start":70,"highlight_end":78}],"label":null,"suggested_replacement":"from_i64","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0599]\u001b[0m\u001b[1m: no function or associated item named `from_f64` found for struct `rust_decimal::Decimal` in the current scope\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:229:70\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m229\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         let aggregated_price = weighted_sum / rust_decimal::Decimal::from_f64(total_weight).unwrap_or_default();\n    \u001b[1m\u001b[94m|\u001b[0m                                                                      \u001b[1m\u001b[91m^^^^^^^^\u001b[0m \u001b[1m\u001b[91mfunction or associated item not found in `rust_decimal::Decimal`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[92mnote\u001b[0m: if you're trying to build a new `rust_decimal::Decimal` consider using one of the following associated functions:\n      rust_decimal::Decimal::new\n      rust_decimal::Decimal::try_new\n      rust_decimal::Decimal::from_i128_with_scale\n      rust_decimal::Decimal::try_from_i128_with_scale\n      and 10 others\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rust_decimal-1.40.0/src/decimal.rs:408:5\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m408\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub fn new(num: i64, scale: u32) -> Decimal {\n    \u001b[1m\u001b[94m|\u001b[0m     \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m425\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub const fn try_new(num: i64, scale: u32) -> crate::Result<Decimal> {\n    \u001b[1m\u001b[94m|\u001b[0m     \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m468\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub fn from_i128_with_scale(num: i128, scale: u32) -> Decimal {\n    \u001b[1m\u001b[94m|\u001b[0m     \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m486\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub const fn try_from_i128_with_scale(num: i128, scale: u32) -> crate::Result<Decimal> {\n    \u001b[1m\u001b[94m|\u001b[0m     \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: items from traits can only be used if the trait is in scope\n\u001b[1m\u001b[96mhelp\u001b[0m: trait `FromPrimitive` which provides `from_f64` is implemented but not in scope; perhaps you want to import it\n    \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m1\u001b[0m \u001b[92m+ use rust_decimal::prelude::FromPrimitive;\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: there is an associated function `from_i64` with a similar name\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m229\u001b[0m \u001b[91m- \u001b[0m        let aggregated_price = weighted_sum / rust_decimal::Decimal::\u001b[91mfrom_f64\u001b[0m(total_weight).unwrap_or_default();\n\u001b[1m\u001b[94m229\u001b[0m \u001b[92m+ \u001b[0m        let aggregated_price = weighted_sum / rust_decimal::Decimal::\u001b[92mfrom_i64\u001b[0m(total_weight).unwrap_or_default();\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"no method named `to_f64` found for struct `rust_decimal::Decimal` in the current scope","code":{"code":"E0599","explanation":"This error occurs when a method is used on a type which doesn't implement it:\n\nErroneous code example:\n\n```compile_fail,E0599\nstruct Mouth;\n\nlet x = Mouth;\nx.chocolate(); // error: no method named `chocolate` found for type `Mouth`\n               //        in the current scope\n```\n\nIn this case, you need to implement the `chocolate` method to fix the error:\n\n```\nstruct Mouth;\n\nimpl Mouth {\n    fn chocolate(&self) { // We implement the `chocolate` method here.\n        println!(\"Hmmm! I love chocolate!\");\n    }\n}\n\nlet x = Mouth;\nx.chocolate(); // ok!\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/num-traits-0.2.19/src/cast.rs","byte_start":4771,"byte_end":4777,"line_start":120,"line_end":120,"column_start":8,"column_end":14,"is_primary":false,"text":[{"text":"    fn to_f64(&self) -> Option<f64> {","highlight_start":8,"highlight_end":14}],"label":"the method is available for `rust_decimal::Decimal` here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":7675,"byte_end":7681,"line_start":234,"line_end":234,"column_start":37,"column_end":43,"is_primary":true,"text":[{"text":"            .filter_map(|p| p.price.to_f64())","highlight_start":37,"highlight_end":43}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"items from traits can only be used if the trait is in scope","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"trait `ToPrimitive` which provides `to_f64` is implemented but not in scope; perhaps you want to import it","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1,"is_primary":true,"text":[],"label":null,"suggested_replacement":"use rust_decimal::prelude::ToPrimitive;\n","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"there is a method `to_i64` with a similar name","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":7675,"byte_end":7681,"line_start":234,"line_end":234,"column_start":37,"column_end":43,"is_primary":true,"text":[{"text":"            .filter_map(|p| p.price.to_f64())","highlight_start":37,"highlight_end":43}],"label":null,"suggested_replacement":"to_i64","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0599]\u001b[0m\u001b[1m: no method named `to_f64` found for struct `rust_decimal::Decimal` in the current scope\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:234:37\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m234\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             .filter_map(|p| p.price.to_f64())\n    \u001b[1m\u001b[94m|\u001b[0m                                     \u001b[1m\u001b[91m^^^^^^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m::: \u001b[0m/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/num-traits-0.2.19/src/cast.rs:120:8\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m120\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     fn to_f64(&self) -> Option<f64> {\n    \u001b[1m\u001b[94m|\u001b[0m        \u001b[1m\u001b[94m------\u001b[0m \u001b[1m\u001b[94mthe method is available for `rust_decimal::Decimal` here\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: items from traits can only be used if the trait is in scope\n\u001b[1m\u001b[96mhelp\u001b[0m: trait `ToPrimitive` which provides `to_f64` is implemented but not in scope; perhaps you want to import it\n    \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m1\u001b[0m \u001b[92m+ use rust_decimal::prelude::ToPrimitive;\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: there is a method `to_i64` with a similar name\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m234\u001b[0m \u001b[91m- \u001b[0m            .filter_map(|p| p.price.\u001b[91mto_f64\u001b[0m())\n\u001b[1m\u001b[94m234\u001b[0m \u001b[92m+ \u001b[0m            .filter_map(|p| p.price.\u001b[92mto_i64\u001b[0m())\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"the method `as_dyn_error` exists for reference `&std::string::String`, but its trait bounds were not satisfied","code":{"code":"E0599","explanation":"This error occurs when a method is used on a type which doesn't implement it:\n\nErroneous code example:\n\n```compile_fail,E0599\nstruct Mouth;\n\nlet x = Mouth;\nx.chocolate(); // error: no method named `chocolate` found for type `Mouth`\n               //        in the current scope\n```\n\nIn this case, you need to implement the `chocolate` method to fix the error:\n\n```\nstruct Mouth;\n\nimpl Mouth {\n    fn chocolate(&self) { // We implement the `chocolate` method here.\n        println!(\"Hmmm! I love chocolate!\");\n    }\n}\n\nlet x = Mouth;\nx.chocolate(); // ok!\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/types.rs","byte_start":4590,"byte_end":4596,"line_start":170,"line_end":170,"column_start":17,"column_end":23,"is_primary":true,"text":[{"text":"    RateLimit { source: String, retry_after: Option<u64> },","highlight_start":17,"highlight_end":23}],"label":"method cannot be called on `&std::string::String` due to unsatisfied trait bounds","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"the following trait bounds were not satisfied:\n`std::string::String: StdError`\nwhich is required by `std::string::String: AsDynError<'_>`\n`&std::string::String: StdError`\nwhich is required by `&std::string::String: AsDynError<'_>`\n`str: Sized`\nwhich is required by `str: AsDynError<'_>`\n`str: StdError`\nwhich is required by `str: AsDynError<'_>`","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0599]\u001b[0m\u001b[1m: the method `as_dyn_error` exists for reference `&std::string::String`, but its trait bounds were not satisfied\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/types.rs:170:17\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m170\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     RateLimit { source: String, retry_after: Option<u64> },\n    \u001b[1m\u001b[94m|\u001b[0m                 \u001b[1m\u001b[91m^^^^^^\u001b[0m \u001b[1m\u001b[91mmethod cannot be called on `&std::string::String` due to unsatisfied trait bounds\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: the following trait bounds were not satisfied:\n            `std::string::String: StdError`\n            which is required by `std::string::String: AsDynError<'_>`\n            `&std::string::String: StdError`\n            which is required by `&std::string::String: AsDynError<'_>`\n            `str: Sized`\n            which is required by `str: AsDynError<'_>`\n            `str: StdError`\n            which is required by `str: AsDynError<'_>`\n\n"}
{"$message_type":"diagnostic","message":"mismatched types","code":{"code":"E0308","explanation":"Expected type did not match the received type.\n\nErroneous code examples:\n\n```compile_fail,E0308\nfn plus_one(x: i32) -> i32 {\n    x + 1\n}\n\nplus_one(\"Not a number\");\n//       ^^^^^^^^^^^^^^ expected `i32`, found `&str`\n\nif \"Not a bool\" {\n// ^^^^^^^^^^^^ expected `bool`, found `&str`\n}\n\nlet x: f32 = \"Not a float\";\n//     ---   ^^^^^^^^^^^^^ expected `f32`, found `&str`\n//     |\n//     expected due to this\n```\n\nThis error occurs when an expression was used in a place where the compiler\nexpected an expression of a different type. It can occur in several cases, the\nmost common being when calling a function and passing an argument which has a\ndifferent type than the matching type in the function declaration.\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":7158,"byte_end":7171,"line_start":211,"line_end":211,"column_start":21,"column_end":34,"is_primary":true,"text":[{"text":"                let (ts1, price1) = chunk[0];","highlight_start":21,"highlight_end":34}],"label":"expected `[f64; 2]`, found `(_, _)`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":7174,"byte_end":7182,"line_start":211,"line_end":211,"column_start":37,"column_end":45,"is_primary":false,"text":[{"text":"                let (ts1, price1) = chunk[0];","highlight_start":37,"highlight_end":45}],"label":"this expression has type `[f64; 2]`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"expected array `[f64; 2]`\n   found tuple `(_, _)`","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0308]\u001b[0m\u001b[1m: mismatched types\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs:211:21\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m211\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                 let (ts1, price1) = chunk[0];\n    \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[91m^^^^^^^^^^^^^\u001b[0m   \u001b[1m\u001b[94m--------\u001b[0m \u001b[1m\u001b[94mthis expression has type `[f64; 2]`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[91m|\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[91mexpected `[f64; 2]`, found `(_, _)`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: expected array `\u001b[1m\u001b[35m[f64; 2]\u001b[0m`\n               found tuple `\u001b[1m\u001b[35m(_, _)\u001b[0m`\n\n"}
{"$message_type":"diagnostic","message":"mismatched types","code":{"code":"E0308","explanation":"Expected type did not match the received type.\n\nErroneous code examples:\n\n```compile_fail,E0308\nfn plus_one(x: i32) -> i32 {\n    x + 1\n}\n\nplus_one(\"Not a number\");\n//       ^^^^^^^^^^^^^^ expected `i32`, found `&str`\n\nif \"Not a bool\" {\n// ^^^^^^^^^^^^ expected `bool`, found `&str`\n}\n\nlet x: f32 = \"Not a float\";\n//     ---   ^^^^^^^^^^^^^ expected `f32`, found `&str`\n//     |\n//     expected due to this\n```\n\nThis error occurs when an expression was used in a place where the compiler\nexpected an expression of a different type. It can occur in several cases, the\nmost common being when calling a function and passing an argument which has a\ndifferent type than the matching type in the function declaration.\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":7204,"byte_end":7217,"line_start":212,"line_end":212,"column_start":21,"column_end":34,"is_primary":true,"text":[{"text":"                let (ts2, price2) = chunk[1];","highlight_start":21,"highlight_end":34}],"label":"expected `[f64; 2]`, found `(_, _)`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs","byte_start":7220,"byte_end":7228,"line_start":212,"line_end":212,"column_start":37,"column_end":45,"is_primary":false,"text":[{"text":"                let (ts2, price2) = chunk[1];","highlight_start":37,"highlight_end":45}],"label":"this expression has type `[f64; 2]`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"expected array `[f64; 2]`\n   found tuple `(_, _)`","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0308]\u001b[0m\u001b[1m: mismatched types\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/coingecko.rs:212:21\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m212\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                 let (ts2, price2) = chunk[1];\n    \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[91m^^^^^^^^^^^^^\u001b[0m   \u001b[1m\u001b[94m--------\u001b[0m \u001b[1m\u001b[94mthis expression has type `[f64; 2]`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[91m|\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[91mexpected `[f64; 2]`, found `(_, _)`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: expected array `\u001b[1m\u001b[35m[f64; 2]\u001b[0m`\n               found tuple `\u001b[1m\u001b[35m(_, _)\u001b[0m`\n\n"}
{"$message_type":"diagnostic","message":"a value of type `Vec<(&types::PricePoint, f64)>` cannot be built from an iterator over elements of type `(&types::PricePoint, std::option::Option<f64>)`","code":{"code":"E0277","explanation":"You tried to use a type which doesn't implement some trait in a place which\nexpected that trait.\n\nErroneous code example:\n\n```compile_fail,E0277\n// here we declare the Foo trait with a bar method\ntrait Foo {\n    fn bar(&self);\n}\n\n// we now declare a function which takes an object implementing the Foo trait\nfn some_func<T: Foo>(foo: T) {\n    foo.bar();\n}\n\nfn main() {\n    // we now call the method with the i32 type, which doesn't implement\n    // the Foo trait\n    some_func(5i32); // error: the trait bound `i32 : Foo` is not satisfied\n}\n```\n\nIn order to fix this error, verify that the type you're using does implement\nthe trait. Example:\n\n```\ntrait Foo {\n    fn bar(&self);\n}\n\n// we implement the trait on the i32 type\nimpl Foo for i32 {\n    fn bar(&self) {}\n}\n\nfn some_func<T: Foo>(foo: T) {\n    foo.bar(); // we can now use this method since i32 implements the\n               // Foo trait\n}\n\nfn main() {\n    some_func(5i32); // ok!\n}\n```\n\nOr in a generic context, an erroneous code example would look like:\n\n```compile_fail,E0277\nfn some_func<T>(foo: T) {\n    println!(\"{:?}\", foo); // error: the trait `core::fmt::Debug` is not\n                           //        implemented for the type `T`\n}\n\nfn main() {\n    // We now call the method with the i32 type,\n    // which *does* implement the Debug trait.\n    some_func(5i32);\n}\n```\n\nNote that the error here is in the definition of the generic function. Although\nwe only call it with a parameter that does implement `Debug`, the compiler\nstill rejects the function. It must work with all possible input types. In\norder to make this example compile, we need to restrict the generic type we're\naccepting:\n\n```\nuse std::fmt;\n\n// Restrict the input type to types that implement Debug.\nfn some_func<T: fmt::Debug>(foo: T) {\n    println!(\"{:?}\", foo);\n}\n\nfn main() {\n    // Calling the method is still fine, as i32 implements Debug.\n    some_func(5i32);\n\n    // This would fail to compile now:\n    // struct WithoutDebug;\n    // some_func(WithoutDebug);\n}\n```\n\nRust only looks at the signature of the called function, as such it must\nalready specify all requirements that will be used for every type parameter.\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":506,"byte_end":513,"line_start":17,"line_end":17,"column_start":10,"column_end":17,"is_primary":true,"text":[{"text":"        .collect();","highlight_start":10,"highlight_end":17}],"label":"value of type `Vec<(&types::PricePoint, f64)>` cannot be built from `std::iter::Iterator<Item=(&types::PricePoint, std::option::Option<f64>)>`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"the trait `FromIterator<(&types::PricePoint, std::option::Option<f64>)>` is not implemented for `Vec<(&types::PricePoint, f64)>`\nbut trait `FromIterator<(&types::PricePoint, f64)>` is implemented for it","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for that trait implementation, expected `f64`, found `std::option::Option<f64>`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"the method call chain might not have had the expected associated types","code":null,"level":"note","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":438,"byte_end":444,"line_start":14,"line_end":14,"column_start":56,"column_end":62,"is_primary":false,"text":[{"text":"    let mut weighted_prices: Vec<(&PricePoint, f64)> = prices","highlight_start":56,"highlight_end":62}],"label":"this expression has type `&[PricePoint]`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":470,"byte_end":496,"line_start":16,"line_end":16,"column_start":10,"column_end":36,"is_primary":true,"text":[{"text":"        .map(|p| (p, p.confidence))","highlight_start":10,"highlight_end":36}],"label":"`Iterator::Item` changed to `(&PricePoint, Option<f64>)` here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":454,"byte_end":460,"line_start":15,"line_end":15,"column_start":10,"column_end":16,"is_primary":false,"text":[{"text":"        .iter()","highlight_start":10,"highlight_end":16}],"label":"`Iterator::Item` is `&PricePoint` here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"required by a bound in `std::iter::Iterator::collect`","code":null,"level":"note","spans":[{"file_name":"/usr/src/debug/rust/rustc-1.92.0-src/library/core/src/iter/traits/iterator.rs","byte_start":67947,"byte_end":68028,"line_start":2015,"line_end":2017,"column_start":5,"column_end":21,"is_primary":true,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0277]\u001b[0m\u001b[1m: a value of type `Vec<(&types::PricePoint, f64)>` cannot be built from an iterator over elements of type `(&types::PricePoint, std::option::Option<f64>)`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs:17:10\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m17\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         .collect();\n   \u001b[1m\u001b[94m|\u001b[0m          \u001b[1m\u001b[91m^^^^^^^\u001b[0m \u001b[1m\u001b[91mvalue of type `Vec<(&types::PricePoint, f64)>` cannot be built from `std::iter::Iterator<Item=(&types::PricePoint, std::option::Option<f64>)>`\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: the trait `FromIterator<(&types::PricePoint, \u001b[1m\u001b[35mstd::option::Option<f64>\u001b[0m)>` \u001b[1m\u001b[35mis not\u001b[0m implemented for `Vec<(&types::PricePoint, f64)>`\n           but trait `FromIterator<(&types::PricePoint, \u001b[1m\u001b[35mf64\u001b[0m)>` \u001b[1m\u001b[35mis\u001b[0m implemented for it\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for that trait implementation, expected `\u001b[1m\u001b[35mf64\u001b[0m`, found `\u001b[1m\u001b[35mstd::option::Option<f64>\u001b[0m`\n\u001b[1m\u001b[92mnote\u001b[0m: the method call chain might not have had the expected associated types\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs:16:10\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m14\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     let mut weighted_prices: Vec<(&PricePoint, f64)> = prices\n   \u001b[1m\u001b[94m|\u001b[0m                                                        \u001b[1m\u001b[94m------\u001b[0m \u001b[1m\u001b[94mthis expression has type `&[PricePoint]`\u001b[0m\n\u001b[1m\u001b[94m15\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         .iter()\n   \u001b[1m\u001b[94m|\u001b[0m          \u001b[1m\u001b[94m------\u001b[0m \u001b[1m\u001b[94m`Iterator::Item` is `&PricePoint` here\u001b[0m\n\u001b[1m\u001b[94m16\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         .map(|p| (p, p.confidence))\n   \u001b[1m\u001b[94m|\u001b[0m          \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[92m`Iterator::Item` changed to `(&PricePoint, Option<f64>)` here\u001b[0m\n\u001b[1m\u001b[92mnote\u001b[0m: required by a bound in `std::iter::Iterator::collect`\n  \u001b[1m\u001b[94m--> \u001b[0m/usr/src/debug/rust/rustc-1.92.0-src/library/core/src/iter/traits/iterator.rs:2015:5\n\n"}
{"$message_type":"diagnostic","message":"mismatched types","code":{"code":"E0308","explanation":"Expected type did not match the received type.\n\nErroneous code examples:\n\n```compile_fail,E0308\nfn plus_one(x: i32) -> i32 {\n    x + 1\n}\n\nplus_one(\"Not a number\");\n//       ^^^^^^^^^^^^^^ expected `i32`, found `&str`\n\nif \"Not a bool\" {\n// ^^^^^^^^^^^^ expected `bool`, found `&str`\n}\n\nlet x: f32 = \"Not a float\";\n//     ---   ^^^^^^^^^^^^^ expected `f32`, found `&str`\n//     |\n//     expected due to this\n```\n\nThis error occurs when an expression was used in a place where the compiler\nexpected an expression of a different type. It can occur in several cases, the\nmost common being when calling a function and passing an argument which has a\ndifferent type than the matching type in the function declaration.\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1226,"byte_end":1238,"line_start":36,"line_end":36,"column_start":21,"column_end":33,"is_primary":true,"text":[{"text":"            weight: p.confidence,","highlight_start":21,"highlight_end":33}],"label":"expected `f64`, found `Option<f64>`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"expected type `f64`\n   found enum `std::option::Option<f64>`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"consider using `Option::expect` to unwrap the `std::option::Option<f64>` value, panicking if the value is an `Option::None`","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1238,"byte_end":1238,"line_start":36,"line_end":36,"column_start":33,"column_end":33,"is_primary":true,"text":[{"text":"            weight: p.confidence,","highlight_start":33,"highlight_end":33}],"label":null,"suggested_replacement":".expect(\"REASON\")","suggestion_applicability":"HasPlaceholders","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0308]\u001b[0m\u001b[1m: mismatched types\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs:36:21\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m36\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             weight: p.confidence,\n   \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[91m^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[91mexpected `f64`, found `Option<f64>`\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: expected type `\u001b[1m\u001b[35mf64\u001b[0m`\n              found enum `\u001b[1m\u001b[35mstd::option::Option<f64>\u001b[0m`\n\u001b[1m\u001b[96mhelp\u001b[0m: consider using `Option::expect` to unwrap the `std::option::Option<f64>` value, panicking if the value is an `Option::None`\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m36\u001b[0m \u001b[1m\u001b[94m| \u001b[0m            weight: p.confidence\u001b[92m.expect(\"REASON\")\u001b[0m,\n   \u001b[1m\u001b[94m|\u001b[0m                                 \u001b[92m+++++++++++++++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"a value of type `f64` cannot be made by summing an iterator over elements of type `std::option::Option<f64>`","code":{"code":"E0277","explanation":"You tried to use a type which doesn't implement some trait in a place which\nexpected that trait.\n\nErroneous code example:\n\n```compile_fail,E0277\n// here we declare the Foo trait with a bar method\ntrait Foo {\n    fn bar(&self);\n}\n\n// we now declare a function which takes an object implementing the Foo trait\nfn some_func<T: Foo>(foo: T) {\n    foo.bar();\n}\n\nfn main() {\n    // we now call the method with the i32 type, which doesn't implement\n    // the Foo trait\n    some_func(5i32); // error: the trait bound `i32 : Foo` is not satisfied\n}\n```\n\nIn order to fix this error, verify that the type you're using does implement\nthe trait. Example:\n\n```\ntrait Foo {\n    fn bar(&self);\n}\n\n// we implement the trait on the i32 type\nimpl Foo for i32 {\n    fn bar(&self) {}\n}\n\nfn some_func<T: Foo>(foo: T) {\n    foo.bar(); // we can now use this method since i32 implements the\n               // Foo trait\n}\n\nfn main() {\n    some_func(5i32); // ok!\n}\n```\n\nOr in a generic context, an erroneous code example would look like:\n\n```compile_fail,E0277\nfn some_func<T>(foo: T) {\n    println!(\"{:?}\", foo); // error: the trait `core::fmt::Debug` is not\n                           //        implemented for the type `T`\n}\n\nfn main() {\n    // We now call the method with the i32 type,\n    // which *does* implement the Debug trait.\n    some_func(5i32);\n}\n```\n\nNote that the error here is in the definition of the generic function. Although\nwe only call it with a parameter that does implement `Debug`, the compiler\nstill rejects the function. It must work with all possible input types. In\norder to make this example compile, we need to restrict the generic type we're\naccepting:\n\n```\nuse std::fmt;\n\n// Restrict the input type to types that implement Debug.\nfn some_func<T: fmt::Debug>(foo: T) {\n    println!(\"{:?}\", foo);\n}\n\nfn main() {\n    // Calling the method is still fine, as i32 implements Debug.\n    some_func(5i32);\n\n    // This would fail to compile now:\n    // struct WithoutDebug;\n    // some_func(WithoutDebug);\n}\n```\n\nRust only looks at the signature of the called function, as such it must\nalready specify all requirements that will be used for every type parameter.\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1380,"byte_end":1383,"line_start":41,"line_end":41,"column_start":69,"column_end":72,"is_primary":true,"text":[{"text":"    let total_confidence: f64 = prices.iter().map(|p| p.confidence).sum();","highlight_start":69,"highlight_end":72}],"label":"value of type `f64` cannot be made by summing a `std::iter::Iterator<Item=std::option::Option<f64>>`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"the trait `Sum<std::option::Option<f64>>` is not implemented for `f64`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"the following other types implement trait `Sum<A>`:\n  `f64` implements `Sum<&f64>`\n  `f64` implements `Sum`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"the method call chain might not have had the expected associated types","code":null,"level":"note","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1344,"byte_end":1350,"line_start":41,"line_end":41,"column_start":33,"column_end":39,"is_primary":false,"text":[{"text":"    let total_confidence: f64 = prices.iter().map(|p| p.confidence).sum();","highlight_start":33,"highlight_end":39}],"label":"this expression has type `&[PricePoint]`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1358,"byte_end":1379,"line_start":41,"line_end":41,"column_start":47,"column_end":68,"is_primary":true,"text":[{"text":"    let total_confidence: f64 = prices.iter().map(|p| p.confidence).sum();","highlight_start":47,"highlight_end":68}],"label":"`Iterator::Item` changed to `Option<f64>` here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1351,"byte_end":1357,"line_start":41,"line_end":41,"column_start":40,"column_end":46,"is_primary":false,"text":[{"text":"    let total_confidence: f64 = prices.iter().map(|p| p.confidence).sum();","highlight_start":40,"highlight_end":46}],"label":"`Iterator::Item` is `&PricePoint` here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"required by a bound in `std::iter::Iterator::sum`","code":null,"level":"note","spans":[{"file_name":"/usr/src/debug/rust/rustc-1.92.0-src/library/core/src/iter/traits/iterator.rs","byte_start":119956,"byte_end":120035,"line_start":3576,"line_end":3579,"column_start":5,"column_end":28,"is_primary":true,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0277]\u001b[0m\u001b[1m: a value of type `f64` cannot be made by summing an iterator over elements of type `std::option::Option<f64>`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs:41:69\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m41\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     let total_confidence: f64 = prices.iter().map(|p| p.confidence).sum();\n   \u001b[1m\u001b[94m|\u001b[0m                                                                     \u001b[1m\u001b[91m^^^\u001b[0m \u001b[1m\u001b[91mvalue of type `f64` cannot be made by summing a `std::iter::Iterator<Item=std::option::Option<f64>>`\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: the trait `Sum<std::option::Option<f64>>` is not implemented for `f64`\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: the following other types implement trait `Sum<A>`:\n             `f64` implements `Sum<&f64>`\n             `f64` implements `Sum`\n\u001b[1m\u001b[92mnote\u001b[0m: the method call chain might not have had the expected associated types\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs:41:47\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m41\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     let total_confidence: f64 = prices.iter().map(|p| p.confidence).sum();\n   \u001b[1m\u001b[94m|\u001b[0m                                 \u001b[1m\u001b[94m------\u001b[0m \u001b[1m\u001b[94m------\u001b[0m \u001b[1m\u001b[92m^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[92m`Iterator::Item` changed to `Option<f64>` here\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m                                 \u001b[1m\u001b[94m|\u001b[0m      \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m                                 \u001b[1m\u001b[94m|\u001b[0m      \u001b[1m\u001b[94m`Iterator::Item` is `&PricePoint` here\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m                                 \u001b[1m\u001b[94mthis expression has type `&[PricePoint]`\u001b[0m\n\u001b[1m\u001b[92mnote\u001b[0m: required by a bound in `std::iter::Iterator::sum`\n  \u001b[1m\u001b[94m--> \u001b[0m/usr/src/debug/rust/rustc-1.92.0-src/library/core/src/iter/traits/iterator.rs:3576:5\n\n"}
{"$message_type":"diagnostic","message":"no method named `to_f64` found for struct `rust_decimal::Decimal` in the current scope","code":{"code":"E0599","explanation":"This error occurs when a method is used on a type which doesn't implement it:\n\nErroneous code example:\n\n```compile_fail,E0599\nstruct Mouth;\n\nlet x = Mouth;\nx.chocolate(); // error: no method named `chocolate` found for type `Mouth`\n               //        in the current scope\n```\n\nIn this case, you need to implement the `chocolate` method to fix the error:\n\n```\nstruct Mouth;\n\nimpl Mouth {\n    fn chocolate(&self) { // We implement the `chocolate` method here.\n        println!(\"Hmmm! I love chocolate!\");\n    }\n}\n\nlet x = Mouth;\nx.chocolate(); // ok!\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/num-traits-0.2.19/src/cast.rs","byte_start":4771,"byte_end":4777,"line_start":120,"line_end":120,"column_start":8,"column_end":14,"is_primary":false,"text":[{"text":"    fn to_f64(&self) -> Option<f64> {","highlight_start":8,"highlight_end":14}],"label":"the method is available for `rust_decimal::Decimal` here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1626,"byte_end":1632,"line_start":48,"line_end":48,"column_start":20,"column_end":26,"is_primary":true,"text":[{"text":"            spread.to_f64().unwrap_or(0.0)","highlight_start":20,"highlight_end":26}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"items from traits can only be used if the trait is in scope","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"trait `ToPrimitive` which provides `to_f64` is implemented but not in scope; perhaps you want to import it","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":34,"byte_end":34,"line_start":2,"line_end":2,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"use crate::types::*;","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"use rust_decimal::prelude::ToPrimitive;\n","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"there is a method `to_i64` with a similar name","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1626,"byte_end":1632,"line_start":48,"line_end":48,"column_start":20,"column_end":26,"is_primary":true,"text":[{"text":"            spread.to_f64().unwrap_or(0.0)","highlight_start":20,"highlight_end":26}],"label":null,"suggested_replacement":"to_i64","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0599]\u001b[0m\u001b[1m: no method named `to_f64` found for struct `rust_decimal::Decimal` in the current scope\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs:48:20\n    \u001b[1m\u001b[94m|\u001b[0m\n \u001b[1m\u001b[94m48\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             spread.to_f64().unwrap_or(0.0)\n    \u001b[1m\u001b[94m|\u001b[0m                    \u001b[1m\u001b[91m^^^^^^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m::: \u001b[0m/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/num-traits-0.2.19/src/cast.rs:120:8\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m120\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     fn to_f64(&self) -> Option<f64> {\n    \u001b[1m\u001b[94m|\u001b[0m        \u001b[1m\u001b[94m------\u001b[0m \u001b[1m\u001b[94mthe method is available for `rust_decimal::Decimal` here\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: items from traits can only be used if the trait is in scope\n\u001b[1m\u001b[96mhelp\u001b[0m: trait `ToPrimitive` which provides `to_f64` is implemented but not in scope; perhaps you want to import it\n    \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m2\u001b[0m \u001b[92m+ use rust_decimal::prelude::ToPrimitive;\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: there is a method `to_i64` with a similar name\n    \u001b[1m\u001b[94m|\u001b[0m\n \u001b[1m\u001b[94m48\u001b[0m \u001b[91m- \u001b[0m            spread.\u001b[91mto_f64\u001b[0m().unwrap_or(0.0)\n \u001b[1m\u001b[94m48\u001b[0m \u001b[92m+ \u001b[0m            spread.\u001b[92mto_i64\u001b[0m().unwrap_or(0.0)\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"attempted to take value of method `asset` on type `types::PricePoint`","code":{"code":"E0615","explanation":"Attempted to access a method like a field.\n\nErroneous code example:\n\n```compile_fail,E0615\nstruct Foo {\n    x: u32,\n}\n\nimpl Foo {\n    fn method(&self) {}\n}\n\nlet f = Foo { x: 0 };\nf.method; // error: attempted to take value of method `method` on type `Foo`\n```\n\nIf you want to use a method, add `()` after it:\n\n```\n# struct Foo { x: u32 }\n# impl Foo { fn method(&self) {} }\n# let f = Foo { x: 0 };\nf.method();\n```\n\nHowever, if you wanted to access a field of a struct check that the field name\nis spelled correctly. Example:\n\n```\n# struct Foo { x: u32 }\n# impl Foo { fn method(&self) {} }\n# let f = Foo { x: 0 };\nprintln!(\"{}\", f.x);\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1722,"byte_end":1727,"line_start":53,"line_end":53,"column_start":26,"column_end":31,"is_primary":true,"text":[{"text":"        asset: prices[0].asset.clone(),","highlight_start":26,"highlight_end":31}],"label":"method, not a field","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"use parentheses to call the method","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1727,"byte_end":1727,"line_start":53,"line_end":53,"column_start":31,"column_end":31,"is_primary":true,"text":[{"text":"        asset: prices[0].asset.clone(),","highlight_start":31,"highlight_end":31}],"label":null,"suggested_replacement":"()","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0615]\u001b[0m\u001b[1m: attempted to take value of method `asset` on type `types::PricePoint`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs:53:26\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m53\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         asset: prices[0].asset.clone(),\n   \u001b[1m\u001b[94m|\u001b[0m                          \u001b[1m\u001b[91m^^^^^\u001b[0m \u001b[1m\u001b[91mmethod, not a field\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: use parentheses to call the method\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m53\u001b[0m \u001b[1m\u001b[94m| \u001b[0m        asset: prices[0].asset\u001b[92m()\u001b[0m.clone(),\n   \u001b[1m\u001b[94m|\u001b[0m                               \u001b[92m++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"attempted to take value of method `quote` on type `types::PricePoint`","code":{"code":"E0615","explanation":"Attempted to access a method like a field.\n\nErroneous code example:\n\n```compile_fail,E0615\nstruct Foo {\n    x: u32,\n}\n\nimpl Foo {\n    fn method(&self) {}\n}\n\nlet f = Foo { x: 0 };\nf.method; // error: attempted to take value of method `method` on type `Foo`\n```\n\nIf you want to use a method, add `()` after it:\n\n```\n# struct Foo { x: u32 }\n# impl Foo { fn method(&self) {} }\n# let f = Foo { x: 0 };\nf.method();\n```\n\nHowever, if you wanted to access a field of a struct check that the field name\nis spelled correctly. Example:\n\n```\n# struct Foo { x: u32 }\n# impl Foo { fn method(&self) {} }\n# let f = Foo { x: 0 };\nprintln!(\"{}\", f.x);\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1762,"byte_end":1767,"line_start":54,"line_end":54,"column_start":26,"column_end":31,"is_primary":true,"text":[{"text":"        quote: prices[0].quote.clone(),","highlight_start":26,"highlight_end":31}],"label":"method, not a field","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"use parentheses to call the method","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1767,"byte_end":1767,"line_start":54,"line_end":54,"column_start":31,"column_end":31,"is_primary":true,"text":[{"text":"        quote: prices[0].quote.clone(),","highlight_start":31,"highlight_end":31}],"label":null,"suggested_replacement":"()","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0615]\u001b[0m\u001b[1m: attempted to take value of method `quote` on type `types::PricePoint`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs:54:26\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m54\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         quote: prices[0].quote.clone(),\n   \u001b[1m\u001b[94m|\u001b[0m                          \u001b[1m\u001b[91m^^^^^\u001b[0m \u001b[1m\u001b[91mmethod, not a field\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: use parentheses to call the method\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m54\u001b[0m \u001b[1m\u001b[94m| \u001b[0m        quote: prices[0].quote\u001b[92m()\u001b[0m.clone(),\n   \u001b[1m\u001b[94m|\u001b[0m                               \u001b[92m++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"no method named `to_f64` found for struct `rust_decimal::Decimal` in the current scope","code":{"code":"E0599","explanation":"This error occurs when a method is used on a type which doesn't implement it:\n\nErroneous code example:\n\n```compile_fail,E0599\nstruct Mouth;\n\nlet x = Mouth;\nx.chocolate(); // error: no method named `chocolate` found for type `Mouth`\n               //        in the current scope\n```\n\nIn this case, you need to implement the `chocolate` method to fix the error:\n\n```\nstruct Mouth;\n\nimpl Mouth {\n    fn chocolate(&self) { // We implement the `chocolate` method here.\n        println!(\"Hmmm! I love chocolate!\");\n    }\n}\n\nlet x = Mouth;\nx.chocolate(); // ok!\n```\n"},"level":"error","spans":[{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/num-traits-0.2.19/src/cast.rs","byte_start":4771,"byte_end":4777,"line_start":120,"line_end":120,"column_start":8,"column_end":14,"is_primary":false,"text":[{"text":"    fn to_f64(&self) -> Option<f64> {","highlight_start":8,"highlight_end":14}],"label":"the method is available for `rust_decimal::Decimal` here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1929,"byte_end":1935,"line_start":59,"line_end":59,"column_start":32,"column_end":38,"is_primary":true,"text":[{"text":"        spread_percent: spread.to_f64().unwrap_or(0.0),","highlight_start":32,"highlight_end":38}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"items from traits can only be used if the trait is in scope","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"trait `ToPrimitive` which provides `to_f64` is implemented but not in scope; perhaps you want to import it","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":34,"byte_end":34,"line_start":2,"line_end":2,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"use crate::types::*;","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"use rust_decimal::prelude::ToPrimitive;\n","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"there is a method `to_i64` with a similar name","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs","byte_start":1929,"byte_end":1935,"line_start":59,"line_end":59,"column_start":32,"column_end":38,"is_primary":true,"text":[{"text":"        spread_percent: spread.to_f64().unwrap_or(0.0),","highlight_start":32,"highlight_end":38}],"label":null,"suggested_replacement":"to_i64","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0599]\u001b[0m\u001b[1m: no method named `to_f64` found for struct `rust_decimal::Decimal` in the current scope\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/aggregators/mod.rs:59:32\n    \u001b[1m\u001b[94m|\u001b[0m\n \u001b[1m\u001b[94m59\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         spread_percent: spread.to_f64().unwrap_or(0.0),\n    \u001b[1m\u001b[94m|\u001b[0m                                \u001b[1m\u001b[91m^^^^^^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m::: \u001b[0m/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/num-traits-0.2.19/src/cast.rs:120:8\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m120\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     fn to_f64(&self) -> Option<f64> {\n    \u001b[1m\u001b[94m|\u001b[0m        \u001b[1m\u001b[94m------\u001b[0m \u001b[1m\u001b[94mthe method is available for `rust_decimal::Decimal` here\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: items from traits can only be used if the trait is in scope\n\u001b[1m\u001b[96mhelp\u001b[0m: trait `ToPrimitive` which provides `to_f64` is implemented but not in scope; perhaps you want to import it\n    \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m2\u001b[0m \u001b[92m+ use rust_decimal::prelude::ToPrimitive;\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: there is a method `to_i64` with a similar name\n    \u001b[1m\u001b[94m|\u001b[0m\n \u001b[1m\u001b[94m59\u001b[0m \u001b[91m- \u001b[0m        spread_percent: spread.\u001b[91mto_f64\u001b[0m().unwrap_or(0.0),\n \u001b[1m\u001b[94m59\u001b[0m \u001b[92m+ \u001b[0m        spread_percent: spread.\u001b[92mto_i64\u001b[0m().unwrap_or(0.0),\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"mismatched types","code":{"code":"E0308","explanation":"Expected type did not match the received type.\n\nErroneous code examples:\n\n```compile_fail,E0308\nfn plus_one(x: i32) -> i32 {\n    x + 1\n}\n\nplus_one(\"Not a number\");\n//       ^^^^^^^^^^^^^^ expected `i32`, found `&str`\n\nif \"Not a bool\" {\n// ^^^^^^^^^^^^ expected `bool`, found `&str`\n}\n\nlet x: f32 = \"Not a float\";\n//     ---   ^^^^^^^^^^^^^ expected `f32`, found `&str`\n//     |\n//     expected due to this\n```\n\nThis error occurs when an expression was used in a place where the compiler\nexpected an expression of a different type. It can occur in several cases, the\nmost common being when calling a function and passing an argument which has a\ndifferent type than the matching type in the function declaration.\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":12416,"byte_end":12464,"line_start":398,"line_end":398,"column_start":13,"column_end":61,"is_primary":true,"text":[{"text":"        Err(anyhow::anyhow!(\"Candles not supported by Pyth\"))","highlight_start":13,"highlight_end":61}],"label":"expected `DataRetrievalError`, found `Error`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":12412,"byte_end":12415,"line_start":398,"line_end":398,"column_start":9,"column_end":12,"is_primary":false,"text":[{"text":"        Err(anyhow::anyhow!(\"Candles not supported by Pyth\"))","highlight_start":9,"highlight_end":12}],"label":"arguments to this enum variant are incorrect","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"the type constructed contains `anyhow::Error` due to the type of the argument passed","code":null,"level":"help","spans":[{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/anyhow-1.0.100/src/macros.rs","byte_start":5869,"byte_end":6021,"line_start":206,"line_end":209,"column_start":9,"column_end":11,"is_primary":false,"text":[{"text":"        $crate::__private::must_use({","highlight_start":9,"highlight_end":38},{"text":"            let error = $crate::__private::format_err($crate::__private::format_args!($msg));","highlight_start":1,"highlight_end":94},{"text":"            error","highlight_start":1,"highlight_end":18},{"text":"        })","highlight_start":1,"highlight_end":11}],"label":"this argument influences the type of `Err`","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":12416,"byte_end":12464,"line_start":398,"line_end":398,"column_start":13,"column_end":61,"is_primary":false,"text":[{"text":"        Err(anyhow::anyhow!(\"Candles not supported by Pyth\"))","highlight_start":13,"highlight_end":61}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"anyhow::anyhow!","def_site_span":{"file_name":"/home/jane/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/anyhow-1.0.100/src/macros.rs","byte_start":5809,"byte_end":5828,"line_start":204,"line_end":204,"column_start":1,"column_end":20,"is_primary":false,"text":[{"text":"macro_rules! anyhow {","highlight_start":1,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":12412,"byte_end":12465,"line_start":398,"line_end":398,"column_start":9,"column_end":62,"is_primary":true,"text":[{"text":"        Err(anyhow::anyhow!(\"Candles not supported by Pyth\"))","highlight_start":9,"highlight_end":62}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"tuple variant defined here","code":null,"level":"note","spans":[{"file_name":"/usr/src/debug/rust/rustc-1.92.0-src/library/core/src/result.rs","byte_start":21514,"byte_end":21517,"line_start":566,"line_end":566,"column_start":5,"column_end":8,"is_primary":true,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0308]\u001b[0m\u001b[1m: mismatched types\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:398:13\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m398\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         Err(anyhow::anyhow!(\"Candles not supported by Pyth\"))\n    \u001b[1m\u001b[94m|\u001b[0m         \u001b[1m\u001b[94m---\u001b[0m \u001b[1m\u001b[91m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[91mexpected `DataRetrievalError`, found `Error`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m         \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m         \u001b[1m\u001b[94marguments to this enum variant are incorrect\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: the type constructed contains `anyhow::Error` due to the type of the argument passed\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:398:9\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m398\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         Err(anyhow::anyhow!(\"Candles not supported by Pyth\"))\n    \u001b[1m\u001b[94m|\u001b[0m         \u001b[1m\u001b[96m^^^^\u001b[0m\u001b[1m\u001b[94m------------------------------------------------\u001b[0m\u001b[1m\u001b[96m^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m             \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m             \u001b[1m\u001b[94mthis argument influences the type of `Err`\u001b[0m\n\u001b[1m\u001b[92mnote\u001b[0m: tuple variant defined here\n   \u001b[1m\u001b[94m--> \u001b[0m/usr/src/debug/rust/rustc-1.92.0-src/library/core/src/result.rs:566:5\n\n"}
{"$message_type":"diagnostic","message":"type annotations needed","code":{"code":"E0282","explanation":"The compiler could not infer a type and asked for a type annotation.\n\nErroneous code example:\n\n```compile_fail,E0282\nlet x = Vec::new();\n```\n\nThis error indicates that type inference did not result in one unique possible\ntype, and extra information is required. In most cases this can be provided\nby adding a type annotation. Sometimes you need to specify a generic type\nparameter manually.\n\nIn the example above, type `Vec` has a type parameter `T`. When calling\n`Vec::new`, barring any other later usage of the variable `x` that allows the\ncompiler to infer what type `T` is, the compiler needs to be told what it is.\n\nThe type can be specified on the variable:\n\n```\nlet x: Vec<i32> = Vec::new();\n```\n\nThe type can also be specified in the path of the expression:\n\n```\nlet x = Vec::<i32>::new();\n```\n\nIn cases with more complex types, it is not necessary to annotate the full\ntype. Once the ambiguity is resolved, the compiler can infer the rest:\n\n```\nlet x: Vec<_> = \"hello\".chars().rev().collect();\n```\n\nAnother way to provide the compiler with enough information, is to specify the\ngeneric type parameter:\n\n```\nlet x = \"hello\".chars().rev().collect::<Vec<char>>();\n```\n\nAgain, you need not specify the full type if the compiler can infer it:\n\n```\nlet x = \"hello\".chars().rev().collect::<Vec<_>>();\n```\n\nApart from a method or function with a generic type parameter, this error can\noccur when a type parameter of a struct or trait cannot be inferred. In that\ncase it is not always possible to use a type annotation, because all candidates\nhave the same return type. For instance:\n\n```compile_fail,E0282\nstruct Foo<T> {\n    num: T,\n}\n\nimpl<T> Foo<T> {\n    fn bar() -> i32 {\n        0\n    }\n\n    fn baz() {\n        let number = Foo::bar();\n    }\n}\n```\n\nThis will fail because the compiler does not know which instance of `Foo` to\ncall `bar` on. Change `Foo::bar()` to `Foo::<T>::bar()` to resolve the error.\n"},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs","byte_start":13068,"byte_end":13069,"line_start":416,"line_end":416,"column_start":34,"column_end":35,"is_primary":true,"text":[{"text":"                last_error: Some(e.to_string()),","highlight_start":34,"highlight_end":35}],"label":"cannot infer type","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[1m\u001b[91merror[E0282]\u001b[0m\u001b[1m: type annotations needed\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/lib.rs:416:34\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m416\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                 last_error: Some(e.to_string()),\n    \u001b[1m\u001b[94m|\u001b[0m                                  \u001b[1m\u001b[91m^\u001b[0m \u001b[1m\u001b[91mcannot infer type\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused variable: `symbol`","code":{"code":"unused_variables","explanation":null},"level":"warning","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/binance_ws.rs","byte_start":11167,"byte_end":11173,"line_start":351,"line_end":351,"column_start":14,"column_end":20,"is_primary":true,"text":[{"text":"        for (symbol, stream) in subs {","highlight_start":14,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"if this is intentional, prefix it with an underscore","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/binance_ws.rs","byte_start":11167,"byte_end":11173,"line_start":351,"line_end":351,"column_start":14,"column_end":20,"is_primary":true,"text":[{"text":"        for (symbol, stream) in subs {","highlight_start":14,"highlight_end":20}],"label":null,"suggested_replacement":"_symbol","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unused variable: `symbol`\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/sources/binance_ws.rs:351:14\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m351\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         for (symbol, stream) in subs {\n    \u001b[1m\u001b[94m|\u001b[0m              \u001b[1m\u001b[33m^^^^^^\u001b[0m \u001b[1m\u001b[33mhelp: if this is intentional, prefix it with an underscore: `_symbol`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 23 previous errors; 4 warnings emitted","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: aborting due to 23 previous errors; 4 warnings emitted\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"Some errors have detailed explanations: E0119, E0277, E0282, E0308, E0599, E0615.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[1mSome errors have detailed explanations: E0119, E0277, E0282, E0308, E0599, E0615.\u001b[0m\n"}
{"$message_type":"diagnostic","message":"For more information about an error, try `rustc --explain E0119`.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[1mFor more information about an error, try `rustc --explain E0119`.\u001b[0m\n"}
{"$message_type":"future_incompat","future_incompat_report":[{"diagnostic":{"$message_type":"diagnostic","message":"this function depends on never type fallback being `()`","code":{"code":"dependency_on_unit_never_type_fallback","explanation":null},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1011,"byte_end":1152,"line_start":37,"line_end":42,"column_start":5,"column_end":28,"is_primary":true,"text":[{"text":"    pub async fn set_price(","highlight_start":5,"highlight_end":28},{"text":"        &self,","highlight_start":1,"highlight_end":15},{"text":"        asset: &str,","highlight_start":1,"highlight_end":21},{"text":"        quote: &str,","highlight_start":1,"highlight_end":21},{"text":"        price: &AggregatedPrice,","highlight_start":1,"highlight_end":33},{"text":"    ) -> anyhow::Result<()> {","highlight_start":1,"highlight_end":28}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!","code":null,"level":"warning","spans":[],"children":[],"rendered":null},{"message":"for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"specify the types explicitly","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"in edition 2024, the requirement `!: FromRedisValue` will fail","code":null,"level":"note","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1373,"byte_end":1379,"line_start":48,"line_end":48,"column_start":14,"column_end":20,"is_primary":true,"text":[{"text":"            .set_ex(key, json, 60)","highlight_start":14,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"`#[deny(dependency_on_unit_never_type_fallback)]` (part of `#[deny(rust_2024_compatibility)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"use `()` annotations to avoid fallback changes","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1379,"byte_end":1379,"line_start":48,"line_end":48,"column_start":20,"column_end":20,"is_primary":true,"text":[{"text":"            .set_ex(key, json, 60)","highlight_start":20,"highlight_end":20}],"label":null,"suggested_replacement":"::<_, _, ()>","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: this function depends on never type fallback being `()`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs:37:5\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m37\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m/\u001b[0m     pub async fn set_price(\n\u001b[1m\u001b[94m38\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         &self,\n\u001b[1m\u001b[94m39\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         asset: &str,\n\u001b[1m\u001b[94m40\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         quote: &str,\n\u001b[1m\u001b[94m41\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         price: &AggregatedPrice,\n\u001b[1m\u001b[94m42\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m     ) -> anyhow::Result<()> {\n   \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|___________________________^\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mwarning\u001b[0m: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: specify the types explicitly\n\u001b[1m\u001b[92mnote\u001b[0m: in edition 2024, the requirement `!: FromRedisValue` will fail\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs:48:14\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m48\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             .set_ex(key, json, 60)\n   \u001b[1m\u001b[94m|\u001b[0m              \u001b[1m\u001b[92m^^^^^^\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[deny(dependency_on_unit_never_type_fallback)]` (part of `#[deny(rust_2024_compatibility)]`) on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: use `()` annotations to avoid fallback changes\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m48\u001b[0m \u001b[1m\u001b[94m| \u001b[0m            .set_ex\u001b[92m::<_, _, ()>\u001b[0m(key, json, 60)\n   \u001b[1m\u001b[94m|\u001b[0m                    \u001b[92m++++++++++++\u001b[0m\n\n"}},{"diagnostic":{"$message_type":"diagnostic","message":"this function depends on never type fallback being `()`","code":{"code":"dependency_on_unit_never_type_fallback","explanation":null},"level":"error","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1487,"byte_end":1602,"line_start":55,"line_end":59,"column_start":5,"column_end":28,"is_primary":true,"text":[{"text":"    pub async fn invalidate_price(","highlight_start":5,"highlight_end":35},{"text":"        &self,","highlight_start":1,"highlight_end":15},{"text":"        asset: &str,","highlight_start":1,"highlight_end":21},{"text":"        quote: &str,","highlight_start":1,"highlight_end":21},{"text":"    ) -> anyhow::Result<()> {","highlight_start":1,"highlight_end":28}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!","code":null,"level":"warning","spans":[],"children":[],"rendered":null},{"message":"for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"specify the types explicitly","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"in edition 2024, the requirement `!: FromRedisValue` will fail","code":null,"level":"note","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1719,"byte_end":1722,"line_start":61,"line_end":61,"column_start":29,"column_end":32,"is_primary":true,"text":[{"text":"        self.client.clone().del(key).await?;","highlight_start":29,"highlight_end":32}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"`#[deny(dependency_on_unit_never_type_fallback)]` (part of `#[deny(rust_2024_compatibility)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"use `()` annotations to avoid fallback changes","code":null,"level":"help","spans":[{"file_name":"/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs","byte_start":1722,"byte_end":1722,"line_start":61,"line_end":61,"column_start":32,"column_end":32,"is_primary":true,"text":[{"text":"        self.client.clone().del(key).await?;","highlight_start":32,"highlight_end":32}],"label":null,"suggested_replacement":"::<_, ()>","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: this function depends on never type fallback being `()`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs:55:5\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m55\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m/\u001b[0m     pub async fn invalidate_price(\n\u001b[1m\u001b[94m56\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         &self,\n\u001b[1m\u001b[94m57\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         asset: &str,\n\u001b[1m\u001b[94m58\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         quote: &str,\n\u001b[1m\u001b[94m59\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m     ) -> anyhow::Result<()> {\n   \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|___________________________^\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mwarning\u001b[0m: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: specify the types explicitly\n\u001b[1m\u001b[92mnote\u001b[0m: in edition 2024, the requirement `!: FromRedisValue` will fail\n  \u001b[1m\u001b[94m--> \u001b[0m/home/jane/workspace/trawling-traders/services/data-retrieval/src/cache/mod.rs:61:29\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m61\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         self.client.clone().del(key).await?;\n   \u001b[1m\u001b[94m|\u001b[0m                             \u001b[1m\u001b[92m^^^\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[deny(dependency_on_unit_never_type_fallback)]` (part of `#[deny(rust_2024_compatibility)]`) on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: use `()` annotations to avoid fallback changes\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m61\u001b[0m \u001b[1m\u001b[94m| \u001b[0m        self.client.clone().del\u001b[92m::<_, ()>\u001b[0m(key).await?;\n   \u001b[1m\u001b[94m|\u001b[0m                                \u001b[92m+++++++++\u001b[0m\n\n"}}]}
